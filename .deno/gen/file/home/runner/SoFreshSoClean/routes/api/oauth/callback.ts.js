import { oauth2Client } from 'services/oauth.ts';
export const handler = {
    async GET (req) {
        const uuid = crypto.randomUUID();
        let token = await oauth2Client.code.getToken(req.url);
        return new Response(JSON.stringify({
            ...token
        }), {
            headers: {
                "Content-Type": "application/json"
            }
        });
    }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vaG9tZS9ydW5uZXIvU29GcmVzaFNvQ2xlYW4vcm91dGVzL2FwaS9vYXV0aC9jYWxsYmFjay50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIYW5kbGVycyB9IGZyb20gXCIkZnJlc2gvc2VydmVyLnRzXCI7XG5pbXBvcnQgeyBvYXV0aDJDbGllbnQgfSBmcm9tICdzZXJ2aWNlcy9vYXV0aC50cydcblxuXG5leHBvcnQgY29uc3QgaGFuZGxlcjogSGFuZGxlcnMgPSB7XG4gIGFzeW5jIEdFVChyZXEpIHtcbiAgICBjb25zdCB1dWlkID0gY3J5cHRvLnJhbmRvbVVVSUQoKTtcbiAgICBsZXQgdG9rZW4gPSBhd2FpdCBvYXV0aDJDbGllbnQuY29kZS5nZXRUb2tlbihyZXEudXJsKTtcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHsgLi4udG9rZW4gfSksIHtcbiAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICB9KTtcbiAgfSxcbn07Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLFNBQVMsWUFBWSxRQUFRLG1CQUFtQixDQUFBO0FBR2hELE9BQU8sTUFBTSxPQUFPLEdBQWE7SUFDL0IsTUFBTSxHQUFHLEVBQUMsR0FBRyxFQUFFO1FBQ2IsTUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDLFVBQVUsRUFBRSxBQUFDO1FBQ2pDLElBQUksS0FBSyxHQUFHLE1BQU0sWUFBWSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxBQUFDO1FBQ3RELE9BQU8sSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQztZQUFFLEdBQUcsS0FBSztTQUFFLENBQUMsRUFBRTtZQUNoRCxPQUFPLEVBQUU7Z0JBQUUsY0FBYyxFQUFFLGtCQUFrQjthQUFFO1NBQ2hELENBQUMsQ0FBQztLQUNKO0NBQ0YsQ0FBQyJ9